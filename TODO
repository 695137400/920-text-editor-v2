复制路径功能
4.4关掉Tab后代码还在
清空剪贴板功能

监控文件改变

check upgrade crash on 4.4
-----
-Caused by: java.lang.OutOfMemoryError: Failed to allocate a 872622740 byte allocation with 16777216 free bytes and 505MB until OOM
at com.jecelyin.editor.v2.io.CharArrayBuffer.(CharArrayBuffer.java:15)
at com.jecelyin.editor.v2.io.FileReader.read(FileReader.java:67)
-----

自定义主题
替换全部会卡死
toolbar按钮调整
-----
但是，使用“文件夹查找”功能时，查询结果条目较多时，似乎无法全部显示。比如我用PC
版的emeditor可以从某文件夹搜到10个结果，920却只显示3个结果，特别是正则表达式稍复杂时这一现象更明显。简单正则表达式则可以显示更多结果。

------
-正则表达式搜索暂时没有发现问题，但是在替换的时候发现，像/n,/r这类的替换是行不通的（比如想将zip替换成zip/n从而达到在zip后面加上换行符的目的）。想请教下，如果想在替换的结果中加入换行符该如何实现呢？

sl4a的打开选择920报错

bottom symbol bar visible on activity recreate

启动时转太久了

using the tab button on hackers keyboard instead of doing the indent whitespace it changes between the menus in the app which leaves me forced to add spaces to a file that previously only had tabs.

Unfortunately it doesn't appear to want to write to the / folder even though root is enabled.
The file I tried to save was in /system/etc/

fix:
Tag: JecLog
Msg: /system/etc/.920bak.media_profiles.xml: open failed: EROFS (Read-only file system)
Stacktrace:
java.io.FileNotFoundException: /system/etc/.920bak.media_profiles.xml: open failed: EROFS (Read-only file system)
at libcore.io.IoBridge.open(IoBridge.java:452)
at java.io.FileOutputStream.(FileOutputStream.java:87)
at com.jecelyin.common.utils.IOUtils.copyFile(IOUtils.java:160)
at com.jecelyin.editor.v2.io.FileWriter.doInBackground(FileWriter.java:76)
at com.jecelyin.editor.v2.io.FileWriter.doInBackground(FileWriter.java:37)

Sometimes I've noticed that if the save button isn't active, rotating from portrait to landscape or vice versa will make it active.

Replace feature does NOT work - you enter what to find and with what to replace, but it only finds the word - no way to replace

-单文件中使用搜索功能时，查找结果同样不能自动出现，总是要把该页文字往上移两行才能看到高亮显示的查找结果
-查找框中输入的字符串不能保留，这在多次搜索同一字符串时很不方便，只能多次重复输入。

make it possible to hide top menu bar and bottom special characters bar

remove highlight on find CAB destroy

搜索文件结果，跳转到包含检索结果的文件后，还是需要下翻数行才能找到检索结果

使用查找功能后，怎么查找另外一个关键词时，上一个关键词还是高亮着

首行自动确定为标题。现在每次都得输入需要保存的标题。

分享到为知笔记，有道笔记...

编辑文档过程中，软件切换到后台，等到再切换回来的时候，代码高亮没有了，是怎么回事儿？



java.lang.ArrayIndexOutOfBoundsException: 0+9 > 0
at com.jecelyin.editor.v2.highlight.Buffer.getText(Buffer.java:129)
at com.jecelyin.editor.v2.highlight.Buffer.getLineText(Buffer.java:121)
at com.jecelyin.editor.v2.highlight.Buffer.getLineText(Buffer.java:97)
at com.jecelyin.editor.v2.highlight.Buffer.markTokens(Buffer.java:221)
at com.jecelyin.editor.v2.ui.Document.highlight(Document.java:397)
at com.jecelyin.editor.v2.ui.Document.onTextChanged(Document.java:230)
at com.jecelyin.editor.v2.core.widget.TextView.sendOnTextChanged(TextView.java:7737)
at com.jecelyin.editor.v2.core.widget.TextView.setText(TextView.java:4107)
at com.jecelyin.editor.v2.core.widget.TextView.setText(TextView.java:3960)
at com.jecelyin.editor.v2.core.widget.JecEditText.setText(JecEditText.java:184)
at com.jecelyin.editor.v2.core.widget.TextView.setText(TextView.java:3935)
at com.jecelyin.editor.v2.ui.Document.onDone(Document.java:179)
at com.jecelyin.editor.v2.ui.Document$ReadFileTask.onPostExecute(Document.java:262)
at com.jecelyin.editor.v2.ui.Document$ReadFileTask.onPostExecute(Document.java:238)
at android.os.AsyncTask.finish(AsyncTask.java:651)

java.lang.ArrayIndexOutOfBoundsException: Array index out of range: 1
at com.jecelyin.editor.v2.highlight.Buffer.insert(Buffer.java:320)
at com.jecelyin.editor.v2.ui.Document.onTextChanged(Document.java:200)
at com.jecelyin.editor.v2.core.widget.TextView.sendOnTextChanged(TextView.java:7737)
at com.jecelyin.editor.v2.core.widget.TextView.handleTextChanged(TextView.java:7797)
at com.jecelyin.editor.v2.core.widget.TextView$ChangeWatcher.onTextChanged(TextView.java:9531)
at com.jecelyin.editor.v2.core.text.SpannableStringBuilder.sendTextChanged(SpannableStringBuilder.java:1084)
at com.jecelyin.editor.v2.core.text.SpannableStringBuilder.replace(SpannableStringBuilder.java:594)
at com.jecelyin.editor.v2.core.text.SpannableStringBuilder.replace(SpannableStringBuilder.java:505)
at com.jecelyin.editor.v2.core.text.SpannableStringBuilder.replace(SpannableStringBuilder.java:54)
at android.view.inputmethod.BaseInputConnection.replaceText(BaseInputConnection.java:844)
at android.view.inputmethod.BaseInputConnection.commitText(BaseInputConnection.java:198)
at com.jecelyin.editor.v2.core.widget.EditableInputConnection.commitText(EditableInputConnection.java:192)
at com.android.internal.view.IInputConnectionWrapper.executeMessage(IInputConnectionWrapper.java:345)
at com.android.internal.view.IInputConnectionWrapper$MyHandler.handleMessage(IInputConnectionWrapper.java:91)
用户：i opened test.sh
   looked on recent files - there also "untitled"
   then opened second doc test2.sh
   looked on recent files - all text in test.sh are go to untitled.
   i edited untitled and press save button.
   and crash appears.

java.lang.ArrayIndexOutOfBoundsException: 0+18 > 0
at com.jecelyin.editor.v2.highlight.Buffer.getText(Buffer.java:129)
at com.jecelyin.editor.v2.highlight.Buffer.getLineText(Buffer.java:121)
at com.jecelyin.editor.v2.highlight.Buffer.getLineText(Buffer.java:97)
at com.jecelyin.editor.v2.highlight.Buffer.markTokens(Buffer.java:221)
at com.jecelyin.editor.v2.ui.Document.highlight(Document.java:397)
at com.jecelyin.editor.v2.ui.Document.onTextChanged(Document.java:230)
at com.jecelyin.editor.v2.core.widget.TextView.sendOnTextChanged(TextView.java:7737)
at com.jecelyin.editor.v2.core.widget.TextView.setText(TextView.java:4107)
at com.jecelyin.editor.v2.core.widget.TextView.setText(TextView.java:3960)
at com.jecelyin.editor.v2.core.widget.JecEditText.setText(JecEditText.java:184)
at com.jecelyin.editor.v2.core.widget.TextView.setText(TextView.java:3935)
at com.jecelyin.editor.v2.core.widget.TextView.onRestoreInstanceState(TextView.java:3835)
at com.jecelyin.editor.v2.ui.EditorDelegate.init(EditorDelegate.java:126)
at com.jecelyin.editor.v2.ui.EditorDelegate.setEditorView(EditorDelegate.java:156)
at com.jecelyin.editor.v2.adapter.EditorAdapter.setEditorView(EditorAdapter.java:106)
at com.jecelyin.editor.v2.adapter.EditorAdapter.setPrimaryItem(EditorAdapter.java:114)
at com.jecelyin.editor.v2.view.TabViewPager.populate(TabViewPager.java:959)
at com.jecelyin.editor.v2.view.TabViewPager.setCurrentItemInternal(TabViewPager.java:503)
at com.jecelyin.editor.v2.view.TabViewPager.setCurrentItemInternal(TabViewPager.java:462)
at com.jecelyin.editor.v2.view.TabViewPager.dataSetChanged(TabViewPager.java:801)
at com.jecelyin.editor.v2.view.TabViewPager$PagerObserver.onChanged(TabViewPager.java:2181)
at android.database.DataSetObservable.notifyChanged(DataSetObservable.java:37)
at android.support.v4.view.PagerAdapter.notifyDataSetChanged(PagerAdapter.java:282)
at com.jecelyin.editor.v2.adapter.EditorAdapter.remove(EditorAdapter.java:188)
at com.jecelyin.editor.v2.adapter.EditorAdapter.removeEditor(EditorAdapter.java:178)
at com.jecelyin.editor.v2.ui.TabManager.closeTab(TabManager.java:183)
at com.jecelyin.editor.v2.ui.TabManager.onTabMenuViewsClick(TabManager.java:82)


I opened three files and I edit last one.After I save it,I will exit but app is error.The second file become blank and app ask me whether to save it
打开多个文件时，文件未进行任何修改，点两次返回键退出时提示保存文件，如果点 是 那么不崩溃，但是保存的那个文件内容会丢失，如果点否，那么软件就会崩溃，手机是华为荣耀畅玩6

希望增加行距配置！当前文字间距离太近。
另外发现中文支持不大好，光标错位，特别是中英都存在的文档。

java.lang.IndexOutOfBoundsException: replace (3798 ... 3796) has end before start
at com.jecelyin.editor.v2.core.text.SpannableStringBuilder.checkRange(SpannableStringBuilder.java:1132)
at com.jecelyin.editor.v2.core.text.SpannableStringBuilder.replace(SpannableStringBuilder.java:539)
at com.jecelyin.editor.v2.core.text.SpannableStringBuilder.replace(SpannableStringBuilder.java:505)
at com.jecelyin.editor.v2.core.text.SpannableStringBuilder.replace(SpannableStringBuilder.java:54)
at com.jecelyin.editor.v2.ui.EditorDelegate.doCommand(EditorDelegate.java:350)
at com.jecelyin.editor.v2.ui.MainActivity.doCommand(MainActivity.java:609)
at com.jecelyin.editor.v2.ui.MainActivity.insertText(MainActivity.java:691)
at com.jecelyin.editor.v2.ui.MainActivity$8.onColorPicked(MainActivity.java:517)
at com.azeesoft.lib.colorpicker.ColorPickerDialog$8.onClick(ColorPickerDialog.java:310)
at android.view.View.performClick(View.java:4858)


Caused by: java.lang.OutOfMemoryError: Failed to allocate a 899667428 byte allocation with 1593012 free bytes and 509MB until OOM
at com.jecelyin.editor.v2.io.CharArrayBuffer.(CharArrayBuffer.java:15)
at com.jecelyin.editor.v2.io.FileReader.read(FileReader.java:67)
at com.jecelyin.editor.v2.ui.Document$ReadFileTask.doInBackground(Document.java:254)
at com.jecelyin.editor.v2.ui.Document$ReadFileTask.doInBackground(Document.java:238)
at android.os.AsyncTask$2.call(AsyncTask.java:295)
at java.util.concurrent.FutureTask.run(FutureTask.java:237)
... 4 more


java.lang.IndexOutOfBoundsException: charAt: 126 >= length 126
at com.jecelyin.editor.v2.core.text.SpannableStringBuilder.charAt(SpannableStringBuilder.java:158)
at com.jecelyin.editor.v2.core.text.Layout.getLineVisibleEnd(Layout.java:1195)
at com.jecelyin.editor.v2.core.text.Layout.drawText(Layout.java:241)
at com.jecelyin.editor.v2.core.text.Layout.draw(Layout.java:215)
at com.jecelyin.editor.v2.core.widget.Editor.onDraw(Editor.java:1339)
at com.jecelyin.editor.v2.core.widget.TextView.onDraw(TextView.java:5489)
at android.view.View.draw(View.java:17476)
at com.jecelyin.editor.v2.core.widget.JecEditText.draw(JecEditText.java:696)
at android.view.View.updateDisplayListIfDirty(View.java:16469)
at android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:3905)
at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3885)
at android.view.View.updateDisplayListIfDirty(View.java:16429)


com_android_settings.xml
The manifest file for Settings, which is only 240kb. 920 freezes and does not respond


java.lang.IndexOutOfBoundsException: Invalid index 2, size is 2
at java.util.ArrayList.throwIndexOutOfBoundsException(ArrayList.java:255)
at java.util.ArrayList.get(ArrayList.java:308)
at com.jecelyin.android.file_explorer.adapter.PathButtonAdapter.getItem(PathButtonAdapter.java:43)
at com.jecelyin.android.file_explorer.FileListPagerFragment$3.onItemClick(FileListPagerFragment.java:123)
at com.jecelyin.android.file_explorer.adapter.PathButtonAdapter$1.onClick(PathButtonAdapter.java:68)


能不能增加 分享到：功能，
编辑好的文字想分享到其他程序里，没有分享按钮。


Hi! thank you for great app! it would be nice to have "Word wrap" and "Show line numbers" functions in right-side menu for quick access. thanks! I would like to help in developing additional functionality like: customizable right menu!


文件管理器添加最近的路径列表